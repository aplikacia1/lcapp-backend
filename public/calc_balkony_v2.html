<!DOCTYPE html>
<html lang="sk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Schlüter® vysunutý balkón – kalkulačka</title>

    <!-- Globálny štýl appky (ponechané) -->
    <link rel="stylesheet" href="style.css" />

    <style>
      :root {
        --max-w: 1120px;
        --gap: 16px;
        --hdr-h: 96px;
        --panel-border: rgba(255, 255, 255, 0.16);
        --brand-bg: #050c22;
        --brand-bg2: #0b1636;
        --accent-yellow: #fbbf24;
        --accent-yellow-soft: rgba(251, 191, 36, 0.09);
        --accent-border: rgba(251, 191, 36, 0.5);
      }

      * {
        box-sizing: border-box;
      }

      html,
      body {
        margin: 0;
        padding: 0;
        height: 100%;
      }

      body {
        background: radial-gradient(circle at top, #1b2b68 0, #050c22 55%, #020617 100%);
        color: #ffffff;
        padding-top: var(--hdr-h);
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      }

      a {
        color: inherit;
        text-decoration: none;
      }

      .desktop-only {
        display: block;
      }

      .mobile-only {
        display: none;
      }

      @media (max-width: 640px) {
        .desktop-only {
          display: none;
        }
        .mobile-only {
          display: block;
        }
      }

      /* HEADER */
      .app-header {
        position: fixed;
        inset: 0 0 auto 0;
        z-index: 1000;
        background: #0c1f4b;
        border-bottom: 1px solid var(--panel-border);
      }

      .app-header-inner {
        max-width: var(--max-w);
        margin: 0 auto;
        padding: 8px var(--gap);
        display: flex;
        flex-direction: column;
        align-items: center;
        position: relative;
      }

      .logo-small {
        height: 48px;
        margin: 2px auto 6px;
        display: block;
      }

      .user-chip {
        color: #cfe2ff;
        font-size: 0.95rem;
        margin-bottom: 8px;
        text-align: center;
      }

      .icon-btn {
        position: absolute;
        top: 10px;
        left: 12px;
        width: 44px;
        height: 44px;
        display: grid;
        place-content: center;
        border: 1px solid #ffffff33;
        border-radius: 10px;
        color: #e7eefc;
        background: transparent;
        cursor: pointer;
      }

      .icon-btn svg {
        width: 22px;
        height: 22px;
      }

      /* LAYOUT */
      .wrap {
        max-width: var(--max-w);
        margin: 0 auto;
        padding: 18px 16px 80px;
        position: relative;
        z-index: 1;
      }

      .page-title {
        margin: 6px 0 4px;
        font-size: 1.35rem;
        letter-spacing: 0.02em;
      }

      .page-subtitle {
        margin: 0 0 4px;
        font-size: 0.88rem;
        color: #e5e7eb;
      }

      .page-subtitle-small {
        margin: 0 0 18px;
        font-size: 0.8rem;
        color: #9ca3af;
      }

      /* Bezpečnostné pásy */
      .safety-stripes {
        position: fixed;
        inset: var(--hdr-h) 0 0 0;
        pointer-events: none;
        z-index: 0;
        display: none;
      }

      @media (min-width: 992px) {
        .safety-stripes {
          display: block;
        }

        .safety-stripes::before,
        .safety-stripes::after {
          content: "";
          position: absolute;
          top: 0;
          bottom: 0;
          width: 11vw;
          max-width: 170px;
          background-image: repeating-linear-gradient(-45deg, #000000 0, #000000 12px, #facc15 12px, #facc15 24px);
          opacity: 0.2;
          filter: blur(1px);
        }

        .safety-stripes::before {
          left: 0;
        }

        .safety-stripes::after {
          right: 0;
        }
      }

      .step-section {
        display: none;
      }

      .step-section.active {
        display: block;
      }

      /* KROK 2 */
      .step2-shell {
        margin-top: 10px;
        background: radial-gradient(circle at top, rgba(15, 23, 42, 0.96) 0, rgba(3, 7, 18, 0.98) 55%);
        border-radius: 22px;
        padding: 18px 16px 20px;
        border: 1px solid rgba(148, 163, 184, 0.55);
        box-shadow: 0 18px 40px rgba(0, 0, 0, 0.75);
      }

      @media (min-width: 960px) {
        .step2-shell {
          padding: 22px 22px 24px;
        }
      }

      .step-header-row {
        display: flex;
        flex-wrap: wrap;
        align-items: baseline;
        justify-content: space-between;
        gap: 8px;
        margin-bottom: 14px;
      }

      .step-title-main {
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: #9ca3af;
      }

      .step-title-main span {
        display: inline-block;
        padding: 3px 8px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.9);
        border: 1px solid rgba(148, 163, 184, 0.6);
        color: #e5e7eb;
        font-size: 0.8rem;
        margin-right: 6px;
      }

      .step-caption {
        font-size: 0.8rem;
        color: #9ca3af;
      }

      .step2-layout {
        display: grid;
        grid-template-columns: minmax(0, 2.3fr) minmax(0, 2.2fr);
        gap: 18px;
      }

      @media (max-width: 900px) {
        .step2-layout {
          grid-template-columns: minmax(0, 1fr);
        }
      }

      .shape-grid {
        display: grid;
        grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
        gap: 10px;
      }

      @media (max-width: 640px) {
        .shape-grid {
          grid-template-columns: minmax(0, 1fr);
        }
      }

      .shape-card {
        position: relative;
        border-radius: 16px;
        background: rgba(15, 23, 42, 0.96);
        border: 1px solid rgba(148, 163, 184, 0.7);
        padding: 10px 10px 12px;
        cursor: pointer;
        display: flex;
        flex-direction: column;
        gap: 6px;
        transition: transform 0.1s ease, box-shadow 0.1s ease, border-color 0.1s ease, background 0.1s ease;
      }

      .shape-card:hover {
        transform: translateY(-1px);
        box-shadow: 0 14px 26px rgba(0, 0, 0, 0.7);
      }

      .shape-card.selected {
        border-color: rgba(251, 191, 36, 0.7);
        background: radial-gradient(circle at top, rgba(250, 204, 21, 0.12) 0, rgba(15, 23, 42, 0.97) 60%);
        box-shadow: 0 0 0 1px rgba(251, 191, 36, 0.4);
      }

      .shape-title {
        font-size: 0.84rem;
        font-weight: 600;
      }

      .shape-note {
        font-size: 0.75rem;
        color: #d1d5db;
      }

      .shape-figure {
        margin-top: 4px;
        border-radius: 12px;
        background: radial-gradient(circle at top, #111827 0, #020617 60%);
        border: 1px solid rgba(148, 163, 184, 0.6);
        padding: 10px 8px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .shape-rect {
        width: 80%;
        max-width: 190px;
        aspect-ratio: 4/3;
        border-radius: 8px;
        border: 2px solid rgba(251, 191, 36, 0.9);
        position: relative;
      }

      .side-label {
        position: absolute;
        font-size: 0.7rem;
        padding: 2px 6px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.96);
        border: 1px solid rgba(251, 191, 36, 0.7);
        color: #facc15;
        font-variant-numeric: tabular-nums;
        min-width: 22px;
        text-align: center;
      }

      .side-label.top {
        top: -10px;
        left: 50%;
        transform: translateX(-50%);
      }

      .side-label.right {
        right: -10px;
        top: 50%;
        transform: translateY(-50%);
      }

      .side-label.bottom {
        bottom: -10px;
        left: 50%;
        transform: translateX(-50%);
      }

      .side-label.left {
        left: -10px;
        top: 50%;
        transform: translateY(-50%);
      }

      .side-label.at-wall {
        color: #e5e7eb;
        border-color: rgba(148, 163, 184, 0.85);
        background: rgba(2, 6, 23, 0.92);
        box-shadow: inset 0 0 0 1px rgba(148, 163, 184, 0.35);
        text-decoration: underline;
        text-decoration-style: dotted;
        text-underline-offset: 2px;
      }

      .shape-l-svg {
        width: 90%;
        max-width: 240px;
        height: auto;
        display: block;
      }

      .shape-l-label {
        font-size: 13px;
        font-weight: 700;
        fill: #facc15;
        paint-order: stroke;
        stroke: rgba(15, 23, 42, 0.95);
        stroke-width: 4px;
        stroke-linejoin: round;
      }

      .shape-l-label.at-wall {
        fill: #e5e7eb;
        text-decoration: underline;
      }

      .field-group {
        display: flex;
        flex-direction: column;
        gap: 9px;
        font-size: 0.8rem;
      }

      .field {
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      .field.hidden {
        display: none;
      }

      .field label {
        font-size: 0.8rem;
        color: #e5e7eb;
      }

      .field small {
        font-size: 0.7rem;
        color: #9ca3af;
      }

      .field input {
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.9);
        padding: 7px 10px;
        font-size: 0.84rem;
        background: rgba(15, 23, 42, 0.96);
        color: #e5e7eb;
        outline: none;
      }

      .field input:focus {
        border-color: rgba(251, 191, 36, 0.9);
        box-shadow: 0 0 0 1px rgba(251, 191, 36, 0.4);
      }

      .dim-row {
        display: flex;
        gap: 8px;
      }

      .dim-row .field {
        flex: 1;
      }

      .pill-info {
        margin-top: 6px;
        font-size: 0.73rem;
        padding: 5px 8px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.96);
        border: 1px dashed rgba(148, 163, 184, 0.7);
        color: #e5e7eb;
      }

      .summary-box {
        margin-top: 10px;
        padding: 9px 10px;
        border-radius: 14px;
        background: #020617;
        border: 1px solid rgba(148, 163, 184, 0.7);
        font-size: 0.8rem;
      }

      .summary-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 3px;
      }

      .summary-row:last-child {
        margin-bottom: 0;
      }

      .summary-label {
        color: #9ca3af;
      }

      .summary-value {
        font-weight: 600;
        color: #fbbf24;
      }

      .step2-actions {
        margin-top: 12px;
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        justify-content: flex-end;
      }

      .btn-inline {
        border-radius: 999px;
        padding: 7px 14px;
        border: 1px solid rgba(148, 163, 184, 0.8);
        background: rgba(15, 23, 42, 0.96);
        color: #e5e7eb;
        font-size: 0.78rem;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      .btn-primary {
        border-radius: 999px;
        padding: 9px 18px;
        border: none;
        background: linear-gradient(90deg, #f59e0b, #facc15);
        color: #111827;
        font-size: 0.86rem;
        font-weight: 600;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 6px;
        box-shadow: 0 10px 22px rgba(251, 191, 36, 0.45);
        min-width: 210px;
        justify-content: center;
        transition: transform 0.1s ease, box-shadow 0.1s ease, filter 0.1s ease;
      }

      .btn-primary:disabled {
        opacity: 0.4;
        cursor: default;
        box-shadow: none;
        filter: grayscale(0.4);
      }

      .btn-primary:not(:disabled):active {
        transform: translateY(1px);
        box-shadow: 0 5px 16px rgba(251, 191, 36, 0.4);
      }

      .wall-box {
        margin-top: 8px;
        padding: 8px 9px;
        border-radius: 14px;
        background: rgba(15, 23, 42, 0.96);
        border: 1px dashed rgba(148, 163, 184, 0.7);
        font-size: 0.76rem;
      }

      .wall-box-title {
        font-weight: 600;
        margin-bottom: 4px;
      }

      .wall-box-text {
        margin: 0 0 6px;
        color: #d1d5db;
      }

      .wall-box-row {
        display: flex;
        flex-wrap: wrap;
        gap: 6px 12px;
      }

      .wall-box-label {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        font-size: 0.75rem;
      }

      .wall-box-label input {
        transform: translateY(1px);
      }

      .wall-box-label.hidden {
        display: none;
      }

      .step3-shell,
      .step4-shell {
        margin-top: 26px;
        background: radial-gradient(circle at top, rgba(15, 23, 42, 0.96) 0, rgba(3, 7, 18, 0.98) 55%);
        border-radius: 22px;
        padding: 18px 16px 20px;
        border: 1px solid rgba(148, 163, 184, 0.55);
        box-shadow: 0 18px 40px rgba(0, 0, 0, 0.75);
      }

      @media (min-width: 960px) {
        .step3-shell,
        .step4-shell {
          padding: 22px 22px 24px;
        }
      }

      .step3-layout,
      .step4-layout {
        display: grid;
        grid-template-columns: minmax(0, 2.1fr) minmax(0, 2.4fr);
        gap: 18px;
      }

      @media (max-width: 900px) {
        .step3-layout,
        .step4-layout {
          grid-template-columns: minmax(0, 1fr);
        }
      }

      .note-prep {
        font-size: 0.74rem;
        color: #facc15;
        background: rgba(250, 204, 21, 0.06);
        border-radius: 10px;
        border: 1px dashed rgba(250, 204, 21, 0.5);
        padding: 6px 8px;
        margin-bottom: 8px;
      }

      .summary-table {
        width: 100%;
        border-collapse: collapse;
        font-size: 0.8rem;
        margin-top: 6px;
      }

      .summary-table th,
      .summary-table td {
        padding: 5px 6px;
        border-bottom: 1px solid rgba(148, 163, 184, 0.4);
      }

      .summary-table th {
        text-align: left;
        color: #9ca3af;
        font-weight: 500;
        width: 50%;
      }

      .summary-table td {
        text-align: right;
        font-weight: 600;
        color: #e5e7eb;
      }

      .question-block {
        font-size: 0.8rem;
        border-radius: 16px;
        padding: 10px 10px 12px;
        background: rgba(15, 23, 42, 0.96);
        border: 1px solid rgba(148, 163, 184, 0.7);
        margin-bottom: 10px;
      }

      .question-title {
        font-size: 0.84rem;
        font-weight: 600;
        margin-bottom: 4px;
      }

      .question-text {
        font-size: 0.78rem;
        color: #d1d5db;
        margin-bottom: 8px;
      }

      .drain-grid {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 8px;
      }

      @media (max-width: 680px) {
        .drain-grid {
          grid-template-columns: minmax(0, 1fr);
        }
      }

      .drain-option {
        border-radius: 14px;
        border: 1px solid rgba(148, 163, 184, 0.7);
        padding: 7px 8px;
        background: rgba(15, 23, 42, 0.96);
        cursor: pointer;
        text-align: left;
        display: flex;
        flex-direction: column;
        gap: 3px;
        transition: transform 0.08s ease, box-shadow 0.08s ease, border-color 0.08s ease, background 0.08s ease;
        font-size: 0.78rem;
        color: #e5e7eb;
      }

      .drain-option:hover {
        transform: translateY(-1px);
        box-shadow: 0 10px 18px rgba(0, 0, 0, 0.7);
      }

      .drain-option.selected {
        border-color: rgba(251, 191, 36, 0.9);
        background: radial-gradient(circle at top, rgba(250, 204, 21, 0.12) 0, rgba(15, 23, 42, 0.97) 60%);
        box-shadow: 0 0 0 1px rgba(251, 191, 36, 0.5);
      }

      .drain-label {
        font-weight: 600;
        color: #fbbf24;
      }

      .drain-note {
        color: #d1d5db;
        font-size: 0.76rem;
      }

      .recommended-box {
        border-radius: 16px;
        padding: 9px 10px;
        background: #020617;
        border: 1px solid rgba(148, 163, 184, 0.7);
        font-size: 0.8rem;
        margin-top: 10px;
      }

      .recommended-name {
        font-weight: 600;
        color: #fbbf24;
        margin-bottom: 4px;
      }

      .recommended-note {
        font-size: 0.76rem;
        color: #d1d5db;
      }

      .preview-modal {
        position: fixed;
        inset: 0;
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 2000;
      }

      .preview-modal.visible {
        display: flex;
      }

      .preview-backdrop {
        position: absolute;
        inset: 0;
        background: rgba(15, 23, 42, 0.86);
      }

      .preview-dialog {
        position: relative;
        z-index: 1;
        max-width: 640px;
        width: 100%;
        margin: 0 16px;
        background: #020617;
        border-radius: 18px;
        border: 1px solid rgba(148, 163, 184, 0.8);
        box-shadow: 0 24px 60px rgba(0, 0, 0, 0.9);
        padding: 12px 14px 14px;
      }

      .preview-dialog h3 {
        margin: 0 0 6px;
        font-size: 0.95rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: #e5e7eb;
      }

      .preview-image {
        width: 100%;
        height: auto;
        border-radius: 12px;
        margin: 6px 0 6px;
        background: #000000;
        display: block;
      }

      .preview-caption {
        margin: 0;
        font-size: 0.76rem;
        color: #d1d5db;
      }

      .preview-close {
        position: absolute;
        top: 6px;
        right: 6px;
        width: 28px;
        height: 28px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.8);
        background: rgba(15, 23, 42, 0.96);
        color: #e5e7eb;
        cursor: pointer;
        display: grid;
        place-content: center;
        font-size: 16px;
        line-height: 1;
      }

      footer {
        font-size: 0.72rem;
        color: #cbd5f5;
        text-align: center;
        margin-top: 14px;
      }

      footer .legal {
        font-size: 0.67rem;
        margin-top: 3px;
        opacity: 0.9;
      }

      @media (max-width: 640px) {
        .step2-shell {
          padding: 16px 12px 18px;
        }
        .dim-row {
          flex-direction: column;
        }
        .dim-row .field {
          width: 100%;
        }
        .step2-layout {
          gap: 12px;
        }
        .page-title {
          font-size: 1.15rem;
        }
        .page-subtitle {
          font-size: 0.82rem;
        }
      }

      .height-options {
        display: flex;
        flex-direction: column;
        gap: 6px;
        margin-top: 6px;
      }

      .height-option {
        display: flex;
        align-items: flex-start;
        gap: 8px;
        padding: 6px 7px;
        border-radius: 10px;
        background: rgba(15, 23, 42, 0.96);
        border: 1px solid rgba(148, 163, 184, 0.5);
        font-size: 0.78rem;
      }

      .height-option input {
        margin-top: 3px;
      }

      .height-main {
        display: block;
        font-weight: 600;
        margin-bottom: 2px;
      }

      .height-note {
        display: block;
        font-size: 0.74rem;
        color: #d1d5db;
      }

      .k4-preview-box {
        border-radius: 16px;
        padding: 9px 10px;
        background: #020617;
        border: 1px solid rgba(148, 163, 184, 0.7);
        font-size: 0.8rem;
      }

      .k4-preview-image {
        width: 100%;
        height: auto;
        border-radius: 12px;
        margin: 6px 0 8px;
        background: #000;
        display: block;
      }

      .k4-preview-title {
        font-weight: 600;
        color: #fbbf24;
        margin-bottom: 4px;
      }

      .k4-preview-note {
        font-size: 0.76rem;
        color: #d1d5db;
      }

      .k4-actions {
        margin-top: 14px;
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        justify-content: flex-end;
      }

      .btn-secondary {
        border-radius: 999px;
        padding: 8px 16px;
        border: 1px solid rgba(148, 163, 184, 0.85);
        background: rgba(15, 23, 42, 0.96);
        color: #e5e7eb;
        font-size: 0.8rem;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      .btn-secondary:disabled {
        opacity: 0.5;
        cursor: default;
      }

      .pdf-fields {
        margin-top: 12px;
        border-radius: 16px;
        padding: 10px 10px 12px;
        background: rgba(15, 23, 42, 0.96);
        border: 1px solid rgba(148, 163, 184, 0.7);
        font-size: 0.8rem;
      }

      .pdf-fields .t {
        font-size: 0.84rem;
        font-weight: 600;
        margin-bottom: 6px;
      }

      .pdf-fields .desc {
        margin: 0 0 10px;
        font-size: 0.76rem;
        color: #d1d5db;
        line-height: 1.35;
      }

      .pdf-fields .row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 8px;
      }

      @media (max-width: 640px) {
        .pdf-fields .row {
          grid-template-columns: 1fr;
        }
      }

      .pdf-fields label {
        display: block;
        font-size: 0.75rem;
        color: #e5e7eb;
        margin-bottom: 4px;
      }

      .pdf-fields input[type="text"],
      .pdf-fields input[type="email"] {
        width: 100%;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.9);
        padding: 7px 10px;
        font-size: 0.84rem;
        background: rgba(2, 6, 23, 0.96);
        color: #e5e7eb;
        outline: none;
      }

      .pdf-fields input:focus {
        border-color: rgba(251, 191, 36, 0.9);
        box-shadow: 0 0 0 1px rgba(251, 191, 36, 0.4);
      }

      .pdf-fields .check {
        margin-top: 8px;
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 0.76rem;
        color: #d1d5db;
      }

      .pdf-fields .check input {
        transform: translateY(1px);
      }

      .pdf-fields .hint {
        margin-top: 6px;
        font-size: 0.72rem;
        color: #9ca3af;
        line-height: 1.35;
      }

      .pdf-fields .muted-value {
        margin-top: 6px;
        font-size: 0.74rem;
        color: #9ca3af;
      }

      .pdf-fields .muted-value strong {
        color: #e5e7eb;
      }

      /* =========================================================
         ✅ TYPO SAFE LAYER – len pre túto kalkulačku (zastaví “lietanie” fontov z globálneho style.css)
         ========================================================= */
      .wrap,
      .wrap * {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        letter-spacing: normal;
      }

      .wrap {
        font-size: 16px;
        line-height: 1.45;
      }

      .wrap p,
      .wrap li,
      .wrap label,
      .wrap small,
      .wrap td,
      .wrap th,
      .wrap button,
      .wrap input {
        font-size: 0.95rem;
        line-height: 1.45;
      }

      .wrap small {
        font-size: 0.8rem;
      }

      .wrap h1 {
        font-size: 1.35rem;
        line-height: 1.2;
      }

      .wrap h2 {
        font-size: 1.1rem;
        line-height: 1.25;
      }

      .wrap h3 {
        font-size: 0.95rem;
        line-height: 1.3;
      }

      /* čísla v tabuľkách nech sú rovnaké */
      .summary-table,
      .summary-value,
      .side-label,
      .shape-l-label {
        font-variant-numeric: tabular-nums;
      }

      /* =========================================================
         ✅ FIX: biele písmo v inputoch aj pri Chrome autofill (len pre PDF sekciu, nič iné to neovplyvní)
         ========================================================= */
      .pdf-fields input,
      .pdf-fields input[type="text"],
      .pdf-fields input[type="email"] {
        color: #e5e7eb !important;
        -webkit-text-fill-color: #e5e7eb !important;
        caret-color: #e5e7eb !important;
      }

      .pdf-fields input::placeholder {
        color: #9ca3af !important;
        opacity: 1;
      }

      .pdf-fields input:-webkit-autofill,
      .pdf-fields input:-webkit-autofill:hover,
      .pdf-fields input:-webkit-autofill:focus,
      .pdf-fields input:-webkit-autofill:active {
        -webkit-text-fill-color: #e5e7eb !important;
        caret-color: #e5e7eb !important;
        transition: background-color 9999s ease-in-out 0s;
        box-shadow: 0 0 0px 1000px rgba(2, 6, 23, 0.96) inset !important;
        border: 1px solid rgba(148, 163, 184, 0.9) !important;
      }
      /* ================= MOBILE WIZARD OVERLAY ================= */
      #wizardOverlay{
        position:fixed;
        inset:0;
        background:radial-gradient(circle at top,#1b2b68 0,#050c22 60%,#020617 100%);
        z-index:5000;
        padding:18px;
        display:none;
      }

      body.mobile-wizard #wizardOverlay{
        display:block;
      }

      body.mobile-wizard .wrap{
        visibility:hidden;
      }
    </style>
  </head>

  <body>
    <div id="wizardOverlay">
      <h2 style="margin-top:20px;font-size:1.2rem;">Zvoľte tvar vášho balkóna</h2>
      <p style="font-size:0.9rem;color:#cbd5f5;margin-bottom:18px;">
        Kliknite na tvar, ktorý sa najviac podobá vášmu balkónu.
      </p>

      <div id="wizardShapeMount"></div>
    </div>

    <header class="app-header" role="banner">
      <div class="app-header-inner">
        <button class="icon-btn" id="backBtn" aria-label="Späť">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path
              d="M15 18l-6-6 6-6"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              fill="none"
            />
          </svg>
        </button>

        <img src="logo_lc.jpg" alt="Lištové centrum" class="logo-small" />
        <div class="user-chip" id="userChip">Prihlásený: –</div>
      </div>
    </header>

    <div class="safety-stripes" aria-hidden="true"></div>

    <main class="wrap">
      <h1 class="page-title">Schlüter® vysunutý balkón – kalkulačka</h1>

      <p class="page-subtitle">
        Kroky 2–4 z 4 – najprv zadáte tvar a rozmery balkóna, potom zvolíte skladbu systému Schlüter® a na konci získate
        sumár pre PDF.
      </p>

      <p class="page-subtitle-small">
        Vybraný typ z kroku 1:
        <strong id="typeLabelText">Vysunutý balkón (konzola)</strong>
      </p>

      <section class="step2-shell step-section active" id="step2">
        <div class="step-caption">
          <span class="desktop-only">
            Vyberte tvar a zadajte dĺžky strán. Plochu aj obvod vypočítame za vás.
          </span>
          <span class="mobile-only">
            Zvoľte tvar balkóna a zadajte jeho rozmery.
          </span>
        </div>

        <div class="step2-layout">
          <div>
            <p class="desktop-only" style="font-size: 0.8rem; color: #e5e7eb; margin: 0 0 8px;">
              Kliknite na tvar, ktorý sa najviac podobá vášmu balkónu.
            </p>

            <div class="shape-grid" id="shapeGrid">
              <article class="shape-card selected" data-shape="square">
                <div class="shape-title">Štvorec</div>
                <div class="shape-note">
                  Všetky strany sú rovnaké. Zadáte len rozmer A.
                </div>
                <div class="shape-figure">
                  <div class="shape-rect" aria-hidden="true">
                    <span class="side-label top" data-preview-side="A">A</span>
                    <span class="side-label right" data-preview-side="A">A</span>
                    <span class="side-label bottom" data-preview-side="A">A</span>
                    <span class="side-label left" data-preview-side="A">A</span>
                  </div>
                </div>
              </article>

              <article class="shape-card" data-shape="rectangle">
                <div class="shape-title">Obdĺžnik</div>
                <div class="shape-note">
                  Dve rôzne strany – A a B.
                </div>
                <div class="shape-figure">
                  <div class="shape-rect" aria-hidden="true">
                    <span class="side-label top" data-preview-side="A">A</span>
                    <span class="side-label right" data-preview-side="B">B</span>
                    <span class="side-label bottom" data-preview-side="A">A</span>
                    <span class="side-label left" data-preview-side="B">B</span>
                  </div>
                </div>
              </article>

              <article class="shape-card" data-shape="l-shape">
                <div class="shape-title">Tvar L</div>
                <div class="shape-note">
                  Zadáte postupne strany A až F podľa náčrtu.
                </div>
                <div class="shape-figure">
                  <svg class="shape-l-svg" viewBox="0 0 200 150" aria-hidden="true">
                    <path
                      d="M20 20 H180 V55 H110 V130 H20 Z"
                      fill="none"
                      stroke="rgba(251, 191, 36, 0.9)"
                      stroke-width="3"
                      stroke-linejoin="round"
                    />
                    <text class="shape-l-label" x="100" y="14" text-anchor="middle" data-preview-side="A">A</text>
                    <text class="shape-l-label" x="186" y="40" text-anchor="middle" data-preview-side="B">B</text>
                    <text class="shape-l-label" x="145" y="70" text-anchor="middle" data-preview-side="C">C</text>
                    <text class="shape-l-label" x="104" y="105" text-anchor="middle" data-preview-side="D">D</text>
                    <text class="shape-l-label" x="65" y="144" text-anchor="middle" data-preview-side="E">E</text>
                    <text class="shape-l-label" x="14" y="78" text-anchor="middle" data-preview-side="F">F</text>
                  </svg>
                </div>
              </article>
            </div>
          </div>

          <div>
            <div class="field-group">
              <div class="field">
                <label for="dimShapeInfo">Aktuálny tvar</label>
                <small id="dimShapeInfo">Štvorec – všetky strany A sú rovnaké.</small>
              </div>

              <div class="dim-row">
                <div class="field" id="fieldSideA">
                  <label for="sideA">Strana A (m)</label>
                  <input type="number" id="sideA" inputmode="decimal" step="0.1" min="0" placeholder="napr. 4,0" />
                  <small>Zapíšte čistú dĺžku bez presahu. Desatinnú čiarku môžete písať bodkou.</small>
                </div>

                <div class="field" id="fieldSideB">
                  <label for="sideB">Strana B (m)</label>
                  <input type="number" id="sideB" inputmode="decimal" step="0.1" min="0" placeholder="napr. 5,2" />
                  <small>Pri štvorci ju môžete nechať prázdnu – použijeme A.</small>
                </div>

                <div class="field hidden" id="fieldSideC">
                  <label for="sideC">Strana C (m)</label>
                  <input type="number" id="sideC" inputmode="decimal" step="0.1" min="0" placeholder="napr. 2,5" />
                  <small>Pri L-tvare pokračujeme stranou C podľa náčrtu.</small>
                </div>
              </div>

              <div class="dim-row">
                <div class="field hidden" id="fieldSideD">
                  <label for="sideD">Strana D (m)</label>
                  <input type="number" id="sideD" inputmode="decimal" step="0.1" min="0" placeholder="napr. 3,0" />
                  <small>Pri L-tvare zadáte aj D, E a F – všetko v metroch.</small>
                </div>

                <div class="field hidden" id="fieldSideE">
                  <label for="sideE">Strana E (m)</label>
                  <input type="number" id="sideE" inputmode="decimal" step="0.1" min="0" placeholder="napr. 1,8" />
                  <small>Pokračujeme po obvode balkóna v smere hodinových ručičiek.</small>
                </div>

                <div class="field hidden" id="fieldSideF">
                  <label for="sideF">Strana F (m)</label>
                  <input type="number" id="sideF" inputmode="decimal" step="0.1" min="0" placeholder="napr. 6,0" />
                  <small>Posledná strana by mala doviesť obvod späť na začiatok.</small>
                </div>
              </div>

              <div class="wall-box" id="wallBox">
                <div class="wall-box-title">Strany pri stene (bez ukončovacích profilov)</div>
                <p class="wall-box-text">
                  Označte strany, ktoré sú pri stene. Na nich sa nepoužijú ukončovacie profily.
                </p>

                <div class="wall-box-row" id="wallCheckboxRow">
                  <label class="wall-box-label wall-side-A">
                    <input type="checkbox" class="wall-side-checkbox" data-side="A" />
                    Strana A pri stene
                  </label>

                  <label class="wall-box-label wall-side-B">
                    <input type="checkbox" class="wall-side-checkbox" data-side="B" />
                    Strana B pri stene
                  </label>

                  <label class="wall-box-label wall-side-C">
                    <input type="checkbox" class="wall-side-checkbox" data-side="C" />
                    Strana C pri stene
                  </label>

                  <label class="wall-box-label wall-side-D">
                    <input type="checkbox" class="wall-side-checkbox" data-side="D" />
                    Strana D pri stene
                  </label>

                  <label class="wall-box-label wall-side-E">
                    <input type="checkbox" class="wall-side-checkbox" data-side="E" />
                    Strana E pri stene
                  </label>

                  <label class="wall-box-label wall-side-F">
                    <input type="checkbox" class="wall-side-checkbox" data-side="F" />
                    Strana F pri stene
                  </label>
                </div>
              </div>

              <div class="pill-info">
                Obvod balkóna aj plochu vypočítame za vás. Pre ukončovacie lišty rátame len tie strany, ktoré nie sú pri
                stene. Hodnoty zaokrúhlime na jedno desatinné miesto.
              </div>
            </div>

            <div class="summary-box" id="dimensionsSummary">
              <div class="summary-row">
                <div class="summary-label">Plocha balkóna</div>
                <div class="summary-value"><span id="summaryArea">–</span> m²</div>
              </div>
              <div class="summary-row">
                <div class="summary-label">Obvod pre ukončovacie lišty</div>
                <div class="summary-value"><span id="summaryPerimeter">–</span> bm</div>
              </div>
            </div>

            <div class="step2-actions">
              <button type="button" class="btn-inline" id="backToStep1Btn">‹ Späť na krok 1</button>
              <button type="button" class="btn-primary" id="goToStep3Btn" disabled>
                Pokračovať na krok 3 (skladba) ›
              </button>
            </div>
          </div>
        </div>
      </section>

      <section class="step3-shell step-section" id="step3">
        <div class="step-header-row">
          <div class="step-title-main"><span>Krok 3</span> Ako bude balkón odvodnený a aká bude skladba</div>
          <div class="step-caption">
            <span class="desktop-only"
              >Z niekoľkých jednoduchých otázok vyberieme „zlatú strednú cestu“ pre váš vysunutý balkón.</span
            >
            <span class="mobile-only">KROK 3 – skladba balkóna, orientačný materiál a voľba systému.</span>
          </div>
        </div>

        <div class="step3-layout">
          <div>
            <p class="note-prep desktop-only">
              Poznámka: Toto je prvá verzia pre vysunutý balkón. Detaily a prípadné špeciálne situácie doplníme v PDF
              podklade z Lištobooku.
            </p>

            <table class="summary-table">
              <tbody>
                <tr>
                  <th>Typ konštrukcie</th>
                  <td id="k3Type">Vysunutý balkón (konzola)</td>
                </tr>
                <tr>
                  <th>Tvar</th>
                  <td id="k3Shape">–</td>
                </tr>
                <tr>
                  <th>Plocha</th>
                  <td><span id="k3Area">–</span> m²</td>
                </tr>
                <tr>
                  <th>Obvod pre lišty</th>
                  <td><span id="k3Perimeter">–</span> bm</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div>
            <div class="question-block" id="heightQuestion">
              <div class="question-title">Aká hrubá bude skladba balkóna?</div>
              <div class="question-text desktop-only">
                Vyberte približnú konštrukčnú výšku – teda hrúbku skladby od hydroizolácie po vrch dlažby. V PDF
                podklade vám ukážeme zvolenú variantu a spomenieme aj ďalšie možnosti.
              </div>
              <div class="question-text mobile-only">
                Zvoľte, aká hrubá bude skladba balkóna (od hydroizolácie po vrch dlažby).
              </div>

              <div class="height-options">
                <label class="height-option">
                  <input type="radio" name="heightOption" value="low" />
                  <div>
                    <span class="height-main">Nízka konštrukčná výška (do cca 60&nbsp;mm)</span>
                    <span class="height-note"
                      >Vhodné, keď je málo miesta na dvere alebo napojenie na vnútornú podlahu.</span
                    >
                  </div>
                </label>

                <label class="height-option">
                  <input type="radio" name="heightOption" value="medium" />
                  <div>
                    <span class="height-main">Stredná konštrukčná výška (cca 60–100&nbsp;mm)</span>
                    <span class="height-note"
                      >Najčastejšie riešenie – dostatok priestoru pre štandardnú skladbu so spádom a drenážou.</span
                    >
                  </div>
                </label>

                <label class="height-option">
                  <input type="radio" name="heightOption" value="high" />
                  <div>
                    <span class="height-main">Vysoká konštrukčná výška (cca 100–150+&nbsp;mm)</span>
                    <span class="height-note"
                      >Vhodné pri hrubšej doske alebo pri požiadavke na vyššie vrstvy a väčší spád.</span
                    >
                  </div>
                </label>
              </div>
            </div>

            <div class="question-block" id="balconyQuestion">
              <div class="question-title">Kadiaľ odteká voda z balkóna?</div>
              <div class="question-text desktop-only">
                Vyberte možnosť, ktorá sa najviac podobá vašej situácii. Podľa toho zvolíme vhodnú skladbu Schlüter® pre
                vysunutý balkón.
              </div>
              <div class="question-text mobile-only">
                Vyberte, kadiaľ odteká voda. Podľa toho zvolíme skladbu balkóna.
              </div>

              <div class="drain-grid">
                <button type="button" class="drain-option" data-drain-option="edge-free">
                  <div class="drain-label">Voda steká cez voľnú hranu</div>
                  <div class="drain-note">Pod balkónom je voľný priestor / záhrada, voda voľne odkvapkáva na zem.</div>
                </button>

                <button type="button" class="drain-option" data-drain-option="edge-gutter">
                  <div class="drain-label">Voda ide do žľabu pri hrane</div>
                  <div class="drain-note">Na hrane balkóna je oplechovanie a žľab, ktorý odvádza dažďovú vodu preč.</div>
                </button>

                <button type="button" class="drain-option" data-drain-option="internal-drain">
                  <div class="drain-label">Voda odteká do vpustu v podlahe</div>
                  <div class="drain-note">
                    V podlahe balkóna je vpust (gulička / kanálik), do ktorého sa zbieha voda.
                  </div>
                </button>
              </div>
            </div>

            <!-- =========================================================
                 BARIN – doplňujúce otázky (zobrazí sa len pri žľabe)
             ========================================================= -->
             <div class="question-block hidden" id="barinExtraBox">
              <div class="question-title">Doplnenie pre žľab (Schlüter® BARIN)</div>

              <div class="question-text">
                Ak je voda odvádzaná do žľabu pri hrane, potrebujeme vedieť,
                ako bude voda odvedená zo žľabu na zem alebo do kanalizácie.
                Tento údaj slúži neskôr pre orientačný výpočet komponentov.
              </div>

              <div class="height-options" style="margin-top:6px;">
<label class="height-option">
  <input type="checkbox" id="barinHasDownpipe">
  <div>
    <span class="height-main">Žľab má zvod (rúru smerom dole)</span>
    <span class="height-note">
      Používa sa napr. keď je balkón nad chodníkom alebo fasádou.
    </span>

    <!-- Výber strany zvodu -->
    <div id="barinDownpipeSideBox"
         style="display:none;margin-top:8px;padding:8px;border-radius:12px;background:rgba(2,6,23,0.6);border:1px solid rgba(148,163,184,0.5);">

      <div style="font-size:0.78rem;margin-bottom:6px;">
        Umiestnenie zvodu (pri pohľade na čelo balkóna):
      </div>

      <label style="display:flex;align-items:center;gap:6px;font-size:0.78rem;margin-bottom:4px;">
        <input type="radio" name="barinDownpipeSide" value="left">
        Naľavo (BSR4 E90 L DN 60)
      </label>

      <label style="display:flex;align-items:center;gap:6px;font-size:0.78rem;">
        <input type="radio" name="barinDownpipeSide" value="right">
        Napravo (BSR4 E90 R DN 60)
      </label>

    </div>

  </div>
</label>

  <div style="margin-top:8px;">
    <label style="font-size:0.78rem;">Výška balkóna od zeme (cm)</label>
    <input
      type="number"
      id="barinHeightInput"
      min="0"
      step="10"
      placeholder="napr. 250"
      style="width:100%;padding:7px 10px;border-radius:999px;border:1px solid rgba(148,163,184,0.9);background:rgba(2,6,23,0.96);color:#e5e7eb;"
    />
    <small style="color:#9ca3af;">
      Ak je balkón nad záhradou a voda môže voľne stekať, pole môžete nechať prázdne.
    </small>
  </div>
</div>
            <div class="recommended-box">
              <div class="summary-label">Navrhovaná skladba (pracovný názov)</div>
              <div class="recommended-name" id="recommendedName">Zatiaľ nevybraná – zvoľte výšku a odtok vody.</div>
              <div class="recommended-note" id="recommendedNote">
                Po výbere konštrukčnej výšky a odtoku vody vám zobrazíme „zlatú strednú cestu“ pre vysunutý balkón.
                Podrobný technický popis a prierezy dostanete v PDF podklade priamo v Lištobooku.
              </div>
            </div>

            <div class="recommended-box" id="bomBox">
              <div class="summary-label">Orientačné množstvá materiálu</div>
              <table class="summary-table">
                <tbody>
                  <tr>
                    <th>Plocha pre výpočet</th>
                    <td><span id="bomArea">–</span> m²</td>
                  </tr>
                  <tr>
                    <th>Drenážna / separačná rohož</th>
                    <td><span id="bomMembraneArea">–</span> m²</td>
                  </tr>
                  <tr>
                    <th>Ukončovacie profily</th>
                    <td><span id="bomPerimeter">–</span> bm / cca <span id="bomProfilesCount">–</span> ks</td>
                  </tr>
                  <tr>
                    <th>Lepidlo (Sopro / Mapei)</th>
                    <td>cca <span id="bomAdhesiveBags">–</span> vriec – značku si vyberiete podľa preferencie.</td>
                  </tr>
                </tbody>
              </table>

              <div class="recommended-note" id="bomNote">
                Hodnoty sú orientačné. Presný výpočet a konkrétne skladby doplníme v PDF podklade po konzultácii s
                technikom Lištového centra.
              </div>
            </div>
          </div>
        </div>

        <div class="step2-actions">
          <button type="button" class="btn-inline" id="backToStep2Btn">‹ Späť na krok 2</button>
          <button type="button" class="btn-primary" id="goToStep4Btn" disabled>
            Pokračovať na krok 4 (sumár &amp; PDF) ›
          </button>
        </div>
      </section>

      <section class="step4-shell step-section" id="step4">
        <div class="step-header-row">
          <div class="step-title-main"><span>Krok 4</span> Kontrola a PDF podklad</div>
          <div class="step-caption">
            Skontrolujte zvolený systém, plochu, obvod a orientačný materiál. Potom si zvolíte, čo s PDF ďalej.
          </div>
        </div>

        <div class="step4-layout">
          <div>
            <p class="note-prep">
              Tento sumár vychádza z údajov z kroku 2 a 3. V PDF podklade doplníme technické detaily a ďalšie vhodné
              varianty.
            </p>

            <table class="summary-table">
              <tbody>
                <tr>
                  <th>Typ konštrukcie</th>
                  <td id="k4Type">–</td>
                </tr>
                <tr>
                  <th>Tvar</th>
                  <td id="k4Shape">–</td>
                </tr>
                <tr>
                  <th>Plocha balkóna</th>
                  <td><span id="k4Area">–</span> m²</td>
                </tr>
                <tr>
                  <th>Obvod pre lišty</th>
                  <td><span id="k4Perimeter">–</span> bm</td>
                </tr>
                <tr>
                  <th>Konštrukčná výška</th>
                  <td id="k4HeightLabel">–</td>
                </tr>
                <tr>
                  <th>Spôsob odtoku vody</th>
                  <td id="k4DrainLabel">–</td>
                </tr>
                <tr>
                  <th>Vybraný systém Schlüter®</th>
                  <td id="k4SystemName">–</td>
                </tr>
              </tbody>
            </table>

            <div class="recommended-box" style="margin-top: 10px;">
              <div class="summary-label">Orientačné množstvá (z kroku 3)</div>
              <div class="recommended-note">
                Plocha pre výpočet: <strong><span id="k4BomArea">–</span> m²</strong><br />
                Drenážna / separačná rohož: <strong><span id="k4BomMembraneArea">–</span> m²</strong><br />
                Ukončovacie profily: <strong><span id="k4BomPerimeter">–</span> bm</strong>, cca
                <strong><span id="k4BomProfilesCount">–</span> ks</strong><br />
                Lepidlo (Sopro / Mapei): cca <strong><span id="k4BomAdhesiveBags">–</span> vriec</strong>
              </div>
            </div>

            <div class="pdf-fields" id="pdfFieldsBox">
              <div class="t">Údaje pre PDF (voliteľné)</div>
              <p class="desc">
                Kalkulačka je verejná. Preto e-mail <strong>nezobrazujeme automaticky</strong>. Ak ste prihlásený,
                meno/firma si predvyplníme z profilu. Ak nie ste prihlásený, môžete údaje nechať prázdne.
              </p>

              <div class="row">
                <div>
                  <label for="pdfCustomerName">Meno a priezvisko</label>
                  <input type="text" id="pdfCustomerName" placeholder="napr. Ján Novák" />
                </div>
                <div>
                  <label for="pdfCustomerCompany">Firma</label>
                  <input type="text" id="pdfCustomerCompany" placeholder="napr. Novák Stavby s.r.o." />
                </div>
              </div>

              <div class="check">
                <input type="checkbox" id="pdfShowEmail" />
                <label for="pdfShowEmail" style="margin: 0;">Zobraziť e-mail v PDF (iba ak si to prajete)</label>
              </div>

              <div class="row" style="margin-top: 8px;">
                <div style="grid-column: 1 / -1;">
                  <label for="pdfCustomerEmail">E-mail (zobrazí sa len ak je checkbox zapnutý)</label>
                  <input type="email" id="pdfCustomerEmail" placeholder="napr. zakaznik@email.sk" />
                </div>
              </div>

              <div class="muted-value" id="pdfAutoNameInfo" style="display: none;">
                Predvyplnené z profilu: <strong id="pdfAutoNameText">—</strong>
              </div>

              <div class="hint">
                Pravidlo v PDF: použijeme <strong>Meno</strong>, ak nie je, tak <strong>Firmu</strong>, ak nie je, tak
                <strong>Prezývku</strong>. E-mail len keď ho výslovne povolíte.
              </div>
            </div>
          </div>

          <div>
            <div class="k4-preview-box">
              <div class="summary-label">Technický náhľad skladby</div>
              <div class="k4-preview-title" id="k4PreviewTitle">
                Zatiaľ nevybraný – doplňte výšku a odtok vo kroku 3.
              </div>
              <img id="k4PreviewImage" class="k4-preview-image" src="" alt="Technický náhľad skladby balkóna" />
              <p class="k4-preview-note" id="k4PreviewCaption">
                Po výbere systému zobrazíme orientačný prierez so skladbou Schlüter® pre váš balkón. Detailné technické
                informácie budú v PDF podklade.
              </p>
            </div>
            <div id="tileWarningBox"
                 style="
                    display:none;
                    margin-top:10px;
                    margin-bottom:12px;
                    padding:12px;
                    border-radius:12px;
                    background:rgba(255,193,7,0.08);
                    border:1px solid rgba(255,193,7,0.35);
                    color:#ffd76a;
                    font-size:0.82rem;
                    line-height:1.45;
                  ">

            <strong>Technické upozornenie:</strong><br>
            Zadaný rozmer dlažby patrí medzi väčšie formáty.
            Pri nízkej konštrukčnej výške (DITRA) je použitie možné,
            avšak v exteriéri môže dochádzať k vyššiemu namáhaniu dlažby
            vplyvom teplotných zmien.<br><br>

            Pre vyššiu životnosť skladby odporúčame zvážiť systém
            s drenážnou vrstvou (DITRA-DRAIN).
            Pokračovať môžete aj s aktuálnym výberom.

            </div>

            <div class="k4-actions">
              <button type="button" class="btn-secondary" id="btnPdfDownload" disabled>📄 Vygenerovať PDF a uložiť</button>
              <button type="button" class="btn-secondary" id="btnPdfToEmail" disabled>✉️ Poslať PDF na môj e-mail</button>
              <button type="button" class="btn-primary" id="btnPdfRequestOffer" disabled>💬 Požiadať o cenovú ponuku</button>
            </div>          
          </div>
        </div>
      </section>

      <div id="previewModal" class="preview-modal" aria-hidden="true">
        <div class="preview-backdrop"></div>
        <div class="preview-dialog" role="dialog" aria-modal="true" aria-labelledby="previewTitle">
          <button type="button" class="preview-close" id="previewCloseBtn" aria-label="Zavrieť náhľad">×</button>
          <h3 id="previewTitle">Technický náhľad skladby</h3>
          <img id="previewImage" class="preview-image" src="" alt="" />
          <p id="previewCaption" class="preview-caption"></p>
        </div>
      </div>

      <div id="tileModal" class="preview-modal" aria-hidden="true">
        <div class="preview-backdrop"></div>
        <div class="preview-dialog" role="dialog" aria-modal="true">
          <button type="button" class="preview-close" id="tileCloseBtn" aria-label="Zavrieť okno">×</button>
          <h3>Parametre dlažby / obkladu</h3>

          <p style="font-size: 0.8rem; color: #d1d5db; margin-bottom: 10px;">
            Potrebujeme dva údaje pre správny návrh Schlüter® skladby:
          </p>

          <label style="font-size:0.8rem;">Hrúbka dlažby (mm)</label>
          <input
            type="number"
            id="tileThicknessInput"
            min="5"
            max="50"
            step="1"
            placeholder="napr. 20"
            style="width: 100%; padding: 8px 10px; border-radius: 8px; border: 1px solid #9ca3af; background: #020617; color: #e5e7eb; margin-bottom:10px;"
          /> 

          <label style="font-size:0.8rem;">Rozmer dlažby – najdlhšia strana (cm)</label>
          <input
            type="number"
            id="tileSizeInput"
            min="10"
            max="200"
            step="1"
            placeholder="napr. 60"
            style="width: 100%; padding: 8px 10px; border-radius: 8px; border: 1px solid #9ca3af; background: #020617; color: #e5e7eb;"
          />

          <p style="font-size: 0.72rem; color: #9ca3af; margin-top:8px;">
            Tento údaj rozhoduje, či použijeme systém Schlüter®-DITRA alebo Schlüter®-DITRA-DRAIN.
          </p>
          <div id="tileRecommendationBox"
               style="
                 display:none;
                 margin-top:10px;
                 padding:10px;
                 border-radius:12px;
                 background:rgba(250,204,21,0.08);
                 border:1px dashed rgba(250,204,21,0.6);
                 font-size:0.78rem;
                 color:#facc15;
                 line-height:1.4;
               ">
            <strong>Technické odporúčanie:</strong><br>
            Pri dlažbe väčšej ako 30 cm odporúčame strednú konštrukčnú výšku
            (Schlüter® DITRA-DRAIN), ktorá je vhodnejšia pre exteriér a lepšie
            odvádza vodu spod dlažby.
          </div>

          <button
            type="button"
            id="tileConfirmBtn"
            class="btn-primary"
            style="margin-top: 12px; width: 100%; justify-content: center;"
          >
            Pokračovať
          </button>
        </div>
      </div>

      <footer>
        <div>Prepočet pripravuje <strong>Lištové centrum</strong> (listobook.sk).</div>
        <div class="legal">
          Výpočet je orientačný a vychádza z údajov zadaných užívateľom. Presnú skladbu a cenovú ponuku potvrdíme po
          konzultácii s technikom Lištového centra.
        </div>
        <div style="position:fixed;bottom:10px;right:10px;z-index:9999;background:#facc15;color:#111827;padding:6px 10px;border-radius:999px;font:600 12px/1 system-ui;">
  
</div>
      </footer>
    </main>

    <script src="/js/cookies.js"></script>
    <script src="/js/config.js"></script>
    <script src="/js/config_balkony.js"></script>
    <script src="/js/config_barin.js"></script>
    <script src="/calc_balkony_v2.js"></script>
    
  </body>
</html>
