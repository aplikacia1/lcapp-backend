<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lištový dashboard</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Hlavička */
    .header { display:flex; align-items:center; justify-content:center; gap:12px; }
    .header > .right { margin-left:auto; display:flex; gap:8px; align-items:center; }
    .btn{
      height:40px; display:inline-flex; align-items:center; gap:8px;
      padding:0 14px; border-radius:12px; border:1px solid rgba(255,255,255,.3);
      background:#fff; color:#0c1f4b; cursor:pointer;
    }
    .btn--danger{ background:#ff6b6b; color:#fff; border:none }

    /* Obsah – ponecháme rezervu, banners.js aj tak pridá vlastný padding */
    .scrollable-body .main-content{
      padding-bottom: calc(var(--banner-h, 0px) + 24px);
    }

    /* MarSab® badge – nad bannerom (banners.js nastaví --banner-h) */
    .brand-badge{
      position: fixed; left: 16px; bottom: calc(var(--banner-h, 0px) + 16px); z-index: 120;
      display: inline-flex; align-items: center; gap: 8px;
      background: #000; color:#fff; text-decoration:none;
      border: 2px solid #fff; border-radius: 14px; padding: 8px 10px;
      box-shadow: 0 8px 18px rgba(0,0,0,.25); opacity:.96;
    }
    .brand-badge img{ height: 24px; width:auto; display:block; }
    .brand-badge .wordmark{ font-weight:700; letter-spacing:.2px; }
    @media (max-width:480px){
      .brand-badge{ left:12px; bottom: calc(var(--banner-h, 0px) + 12px); padding:6px 8px; border-radius:12px;}
      .brand-badge img{ height:20px; }
      .brand-badge .wordmark{ font-size:12px; }
    }

    /* Jemný efekt vynorenia (rovnaký ako na iných stránkach) */
    .fade-in { opacity:0; transform: translateY(20px); animation: fadeInUp .6s ease forwards; }
    @keyframes fadeInUp { to { opacity:1; transform: translateY(0); } }
  </style>
</head>
<body>

  <!-- HLAVIČKA -->
  <div class="header fade-in">
    <img src="logo_lc.jpg" alt="Logo" class="logo-small" />
    <div id="userLabel">Prihlásený:</div>
    <div class="right">
      <button class="btn" id="goCatalogBtn">Katalóg</button>
      <button class="btn" id="goTimelineBtn">Lištobook</button>
      <button class="btn" id="goGameBtn">Hra</button>
      <button id="logoutBtn" class="btn btn--danger">Odhlásiť sa</button>
    </div>
  </div>

  <!-- SLOT pre banner (presne ako na katalógu) -->
  <div id="bannerSlot" aria-live="polite"></div>

  <!-- OBSAH -->
  <div class="scrollable-body">
    <div class="main-content fade-in">

      <div id="formInfo">
        Vitajte v našom Lištobooku.<br>
        slúži hlavne na výmenu informácií medzi majstrami pri práci s materiálmi zakúpenými v Lištovom centre.<br>
        Môžete si zvoliť prezývku a pod touto chatovať, vkladať svoje obrázky a fotky vašej práce na časovú os,
        písať recenzie na materiály a výrobky.<br>
        prosím, aby ste nepoužívali vulgarizmy prípadne urážali ostatných. v takom prípade vás odhlásime.
      </div>

      <!-- FORMULÁR NA MENO + MESTO -->
      <form id="userForm">
        <input type="text" id="name" placeholder="Prezývka" />
        <input type="text" id="note" placeholder="Mesto" />
        <button type="submit">Uložiť údaje</button>
      </form>

      <!-- FORMULÁR NA HESLO -->
      <form id="passwordForm">
        <h3>Zmena hesla</h3>
        <input type="password" id="oldPassword" placeholder="Staré heslo" />
        <input type="password" id="newPassword" placeholder="Nové heslo" />
        <input type="password" id="confirmPassword" placeholder="Potvrď nové heslo" />
        <button type="submit">Zmeniť heslo</button>
        <div id="passwordMessage" class="status-message"></div>
      </form>

    </div>
  </div>

  <!-- MarSab® badge -->
  <a class="brand-badge" href="#" aria-label="MarSab®">
    <img src="img/marsab_logo.png" alt="">
    <span class="wordmark">MarSab®</span>
  </a>

  <!-- Navigácia -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const email = new URLSearchParams(window.location.search).get("email");
      const go = (page) => { window.location.href = email ? `${page}?email=${encodeURIComponent(email)}` : page; };
      document.getElementById("goCatalogBtn")?.addEventListener("click", ()=> go("catalog.html"));
      document.getElementById("goTimelineBtn")?.addEventListener("click", ()=> go("timeline.html"));
      document.getElementById("goGameBtn")?.addEventListener("click", ()=> go("game.html"));
      document.getElementById("logoutBtn")?.addEventListener("click", () => { window.location.href = "index.html"; });
    });
  </script>

  <!-- LOGIKA -->
  <script src="dashboard.js"></script>

  <!-- Bannery (rovnako ako na katalógu) -->
  <script src="banners.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', ()=>{
      mountBannerRotator('bannerSlot', {
        fixed: true,
        position: 'bottom',
        pushContent: true,
        height: 160,
        heightMobile: 120,
        interval: 30000
      });
    });
  </script>
</body>
</html>
